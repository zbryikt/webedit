{"html":"<div editable=\"false\"><div class=\"unsortable\"><div auto-content=\"auto-content\" edit-text=\"keyword\" edit-text-placeholder=\"search for address\" class=\"container\"></div></div></div>","css":".block-map .container {\n  width: 100%;\n  height: 400px;\n}\n","js":"// Generated by LiveScript 1.3.0\nmodule.exports = {\n  handle: {\n    text: function(node, text){\n      var coder, this$ = this;\n      coder = new google.maps.Geocoder();\n      return coder.geocode({\n        address: text\n      }, function(res, status){\n        if (status !== google.maps.GeocoderStatus.OK || !res[0]) {\n          return;\n        }\n        node.map.setCenter(res[0].geometry.location);\n        return node.map.setZoom(14);\n      });\n    }\n  },\n  config: {\n    editable: false\n  },\n  wrap: function(node, collab){\n    var container, handler, this$ = this;\n    container = node.querySelector('.container');\n    if (!window.initMap) {\n      window.initMap = function(){\n        var i$, ref$, ref1$, len$, func;\n        for (i$ = 0, len$ = (ref$ = (ref1$ = window.initMap).list || (ref1$.list = [])).length; i$ < len$; ++i$) {\n          func = ref$[i$];\n          func();\n        }\n        return window.initMap.inited = true;\n      };\n    }\n    if (!window.initMap.list) {\n      window.initMap.list = [];\n    }\n    handler = function(){\n      var options, map;\n      options = {\n        center: {\n          lat: +(container.getAttribute('lat') || -34.397),\n          lng: +(container.getAttribute('lng') || 150.644)\n        },\n        zoom: +(container.getAttribute('zoom') || 8)\n      };\n      map = container.map = new google.maps.Map(container, options);\n      google.maps.event.addListener(map, 'idle', function(){\n        var center;\n        center = map.getCenter();\n        container.setAttribute('lat', center.lat());\n        container.setAttribute('lng', center.lng());\n        container.setAttribute('zoom', map.getZoom());\n        if (collab) {\n          return collab.action.editBlock(node);\n        }\n      });\n      return google.maps.event.addDomListener(container, 'mouseover', function(e){\n        var evt;\n        if (e._generated) {\n          return;\n        }\n        evt = document.createEvent('MouseEvents');\n        evt.initMouseEvent('mouseover', true, true, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null);\n        evt._generated = 1;\n        return container.dispatchEvent(evt);\n      });\n    };\n    if (!window.initMap.inited) {\n      return window.initMap.list.push(handler);\n    } else {\n      return handler();\n    }\n  },\n  library: {\n    gmaps: 'https://maps.googleapis.com/maps/api/js?key=AIzaSyCtTg4onCcl1CJpO_ly3VEYLrUxnXQY00E&callback=initMap'\n  }\n};"}