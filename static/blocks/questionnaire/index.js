// Generated by LiveScript 1.3.0
module.exports = {
  wrap: function(node){
    var scoring;
    node.querySelector('.result').style.display = 'none';
    node.querySelector('.submit').addEventListener('click', function(){
      return node.querySelector('.result').style.display = 'block';
    });
    scoring = function(){
      var result;
      result = Array.from(node.querySelectorAll('.choice.active')).map(function(it){
        return +(it.getAttribute('score') || 0);
      }).reduce(function(a, b){
        return a + b;
      }, 0);
      node.querySelector('.score').innerText = result;
      return node.querySelector('.result').style.display = 'none';
    };
    return node.addEventListener('click', function(e){
      var target;
      target = e.target;
      if (!target.classList.contains('choice')) {
        return;
      }
      Array.from(target.parentNode.childNodes).map(function(it){
        if (it !== target && it.classList.contains('choice')) {
          return it.classList.remove('active');
        }
      });
      target.classList.toggle('active');
      return scoring();
    });
  }
};