extends /base.jade
block head
  +script("/js/profile.js")
block body
  +nbr(4)
  .block1024(ng-controller="profile")

    h3
      .avatar.mr-2(ng-attr-style="width:64px;height:64px;border-radius:50%;background:url(/s/avatar/{{user.data.key}}.png) #ccc center center no-repeat;background-size:cover;display:inline-block;vertical-align:middle")
      span {{user.data.displayname}}
    +nbr(1)
    .sep
    +nbr(1)
    style(type="text/css").
      .page-list {
      }
      .page-list .list.head {
        background: none;
        border: none;
        box-shadow: none;
        margin-bottom: 0;
        font-size: 13px;
      }
      .page-list .list {
        background: #fff;
        box-shadow: 0 2px 2px rgba(0,0,0,.05);
        border: 1px solid #ddd;
        border-radius: 3px;
        margin-bottom: 10px;
        padding: 10px 20px;
        height: 46px;
      }
      .page-list .list .item {
        display: inline-block;
      }
      .page-list .list .item.thumb {
        width: 56px;
        display: inline-block;
        vertical-align: middle;
      }
      .page-list .list .item.thumb .img {
        width: 46px;
        height: 25px;
        background-size: cover;
        background-position: center center;
      }
      .page-list .list .item.title {
        min-width: 300px;
      }
      .page-list .list .item.owner {
        width: 100px;
      }
      .page-list .list .item.createdtime {
        width: 200px;
      }
      .page-list .list .item.action {
        width: 100px;
      }
      .page-list .list .item > a, .page-list .list .item > span {
        padding: 10px 0;
        vertical-align: middle;
        line-height: 20px;
      }
      .page-list .pull-right {
        font-size: 13px;
      }
      .page-list .list .item {
        opacity: 1;
        transition: all 0.5s linear;
      }
      .page-list .list.ng-leave {
        transition: all 0.4s cubic-bezier(0,.5,.5,1);
        opacity: 1;
        overflow: hidden;
      }
      .page-list .list.ng-leave.ng-leave-active {
        opacity: 0;
        height: 0px;
        padding-top: 0px;
        padding-bottom: 0px;
        margin-bottom: 0;
      }
    br
    .btn.btn-text.btn-lg(style="margin-left:-15px"): big Page List
    a.btn.btn-outline-secondary.btn-sm(href="/page/create") #[i.fa.fa-plus.mr-1] #[span new page]
    +nbr(2)
    .page-list
      .list.head
        .item.thumb Thumb
        .item.title Title
        .pull-right
          .item.owner.text-center Owner
          .item.createdtime.text-center Created Time
          .item.action.text-center Action

      .list(ng-repeat="doc in docs")
        .item.thumb
          .img(ng-attr-style="background-image:url({{doc.thumbnail || '/assets/img/page/default-thumbnail.jpg'}})")
        .item.title
          a(ng-attr-href="/page/{{doc.slug}}/") {{doc.title || 'untitled'}}
        .pull-right
          .item.owner.text-center
            .avatar.mr-1(ng-attr-style="width:20px;height:20px;border-radius:50%;background:url(/s/avatar/{{doc.owner}}.png) #ccc center center no-repeat;background-size:cover;display:inline-block;vertical-align:middle")
            a(style="vertical-align:middle") {{doc.displayname}}
          .item.createdtime.text-center
            span {{doc.createdtime|nicedatetime}}
          .item.action.text-center
            .dropdown
              .dropdown-toggle.clickable(data-toggle="dropdown") #[i.fa.fa-ellipsis-h] &nbsp;
              .dropdown-menu
                a.dropdown-item.clickable(ng-attr-href="/page/{{doc.slug}}/clone/") #[i.fa.fa-clone] Clone
                a.dropdown-item.clickable(ng-click="page.delete(doc.slug)") #[i.fa.fa-trash] Delete
    +nbr(1)
    .pull-right: a.btn.btn-outline-secondary.btn-sm(href="/page/create") #[i.fa.fa-plus.mr-1] #[span new page]
    +nbr(6)
