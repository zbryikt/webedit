{"html":"<br/><h3>Questionnaire</h3><p>A simple description about what this questionnaire is for.</p><br/><div class=\"card\"><div class=\"card-body\"><div repeat-host=\"repeat-host\" class=\"questions\"><div repeat-item=\"repeat-item\" class=\"question\"><p>This is the question number 1. Users choose from one of the options below.</p><div repeat-host=\"repeat-host\" class=\"choices\"><div repeat-item=\"repeat-item\" edit-text=\"score\" edit-text-placeholder=\"enter score\" class=\"choice btn btn-outline-secondary mr-2 mb-2\">Answer 1</div><div repeat-item=\"repeat-item\" edit-text=\"score\" edit-text-placeholder=\"enter score\" class=\"choice btn btn-outline-secondary mr-2 mb-2\">Answer 2</div><div repeat-item=\"repeat-item\" edit-text=\"score\" edit-text-placeholder=\"enter score\" class=\"choice btn btn-outline-secondary mr-2 mb-2\">Answer 3</div><div repeat-item=\"repeat-item\" edit-text=\"score\" edit-text-placeholder=\"enter score\" class=\"choice btn btn-outline-secondary mr-2 mb-2\">Answer 4</div></div></div></div><div class=\"btn btn-primary text-center submit\">Submit</div></div></div><br/><div class=\"result\"><div class=\"text-center\"><small class=\"gray mb-1\">Your Score</small><br/><div class=\"big\"><b class=\"score\">0</b></div></div><br/><div class=\"card\"><div class=\"card-body\"><div repeat-host=\"repeat-host\" class=\"row\"><div repeat-item=\"repeat-item\" class=\"col-sm\"><h3>Rank C <small class=\"gray\"> / 0 ~ 60</small></h3><hr/><p>You are in the rank C. This is the level with the lowest Rank.</p></div><div repeat-item=\"repeat-item\" class=\"col-sm\"><h3>Rank B <small class=\"gray\"> / 60 ~ 80</small></h3><hr/><p>You are in the rank B. Well done, but there's room for improvement.</p></div><div repeat-item=\"repeat-item\" class=\"col-sm\"><h3>Rank A <small class=\"gray\">/ 80 ~ 100</small></h3><hr/><p>You are in the rank A. This is the highest rank you can get.</p></div></div></div></div></div>","css":".block-questionnaire .submit {\n  min-width: 200px;\n  margin-left: 0;\n}\n.block-questionnaire .result {\n  display: none;\n  margin: 0 0 0 auto;\n  border-radius: 5px;\n  padding: 0 20px;\n}\n.block-questionnaire .score {\n  color: #d21;\n  font-size: 3em;\n}\n.questions {\n  padding-left: 1em;\n  position: relative;\n}\n.questions .question.repeat-ghost {\n  width: 100%;\n}\n.questions .question {\n  display: list-item;\n  margin: 0 auto 30px 0;\n  width: 90%;\n  list-style-type: decimal;\n}\n.questions .question p {\n  margin-bottom: 5px;\n}\n.questions .question .choices {\n  display: flex;\n  flex-wrap: wrap;\n}\n.questions .question .choices .choice {\n  cursor: pointer;\n  padding: 5px 10px;\n  flex: 1 1 40%;\n  text-align: left;\n}\n.questions .question .choices .choice:before {\n  content: \"\\f1db\";\n  font: normal normal normal 14px/1 FontAwesome;\n  display: inline-block;\n  vertical-align: middle;\n  margin: -1px 10px 0 0;\n  font-size: 1.2em;\n}\n.questions .question .choices .choice.active:before {\n  content: \"\\f058\";\n}\n","js":"// Generated by LiveScript 1.3.0\nmodule.exports = {\n  custom: {\n    attrs: ['score']\n  },\n  init: function(){\n    var scoring, this$ = this;\n    btools.qs('.result', this.block).map(function(it){\n      return it.style.display = 'none';\n    });\n    btools.qs('.submit', this.block).map(function(it){\n      return it.addEventListener('click', function(){\n        var result, setActive;\n        btools.qs('.result', this$.block).map(function(it){\n          return it.style.display = 'block';\n        });\n        result = btools.qsAll('.choice.active', this$.block).map(function(it){\n          return +(it.getAttribute('score') || 0);\n        }).reduce(function(a, b){\n          return a + b;\n        }, 0);\n        setActive = function(n, value){\n          n.style.opacity = value ? 1 : 0.3;\n          if (value) {\n            return n.classList.add('text-danger');\n          } else {\n            return n.classList.remove('text-danger');\n          }\n        };\n        return btools.qsAll('.result .card *[repeat-item]', this$.block).map(function(it){\n          var ret;\n          ret = /(\\d+)\\s*~\\s*(\\d+)/.exec(it.innerText);\n          if (ret && result >= +ret[1] && result <= +ret[2]) {\n            return setActive(it, true);\n          }\n          ret = /<\\s*(\\d+)/.exec(it.innerText);\n          if (ret && result < +ret[1]) {\n            return setActive(it, true);\n          }\n          ret = />\\s*(\\d+)/.exec(it.innerText);\n          if (ret && result > +ret[1]) {\n            return setActive(it, true);\n          }\n          it.style.opacity = 0.3;\n          return setActive(it, false);\n        });\n      });\n    });\n    scoring = function(){\n      var result;\n      result = btools.qsAll('.choice.active', this.block).map(function(it){\n        return +(it.getAttribute('score') || 0);\n      }).reduce(function(a, b){\n        return a + b;\n      }, 0);\n      btools.qs('.score', this.block).map(function(it){\n        return it.innerText = result;\n      });\n      return btools.qs('.result', this.block).map(function(it){\n        return it.style.display = 'none';\n      });\n    };\n    return this.block.addEventListener('click', function(e){\n      var target;\n      target = e.target;\n      if (!target.classList.contains('choice')) {\n        return;\n      }\n      Array.from(target.parentNode.childNodes).map(function(it){\n        if (it !== target && it.classList.contains('choice')) {\n          return it.classList.remove('active');\n        }\n      });\n      target.classList.toggle('active');\n      return scoring();\n    });\n  }\n};"}