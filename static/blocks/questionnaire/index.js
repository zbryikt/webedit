// Generated by LiveScript 1.3.0
module.exports = {
  wrap: function(node){
    var scoring;
    btools.qs('.result').map(function(it){
      return it.style.display = 'none';
    });
    btools.qs('.submit').map(function(it){
      return it.addEventListener('click', function(){
        return btools.qs('.result').map(function(it){
          return it.style.display = 'block';
        });
      });
    });
    scoring = function(){
      var result;
      result = btools.qsAll('.choice.active').map(function(it){
        return +(it.getAttribute('score') || 0);
      }).reduce(function(a, b){
        return a + b;
      }, 0);
      btools.qs('.score').map(function(it){
        return it.innerText = result;
      });
      return btools.qs('.result').map(function(it){
        return it.style.display = 'none';
      });
    };
    return node.addEventListener('click', function(e){
      var target;
      target = e.target;
      if (!target.classList.contains('choice')) {
        return;
      }
      Array.from(target.parentNode.childNodes).map(function(it){
        if (it !== target && it.classList.contains('choice')) {
          return it.classList.remove('active');
        }
      });
      target.classList.toggle('active');
      return scoring();
    });
  }
};