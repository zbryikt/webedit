// Generated by LiveScript 1.3.0
module.exports = {
  handle: {
    change: function(node, blocks){
      var slides, ref$, idx, oldidx;
      slides = btools.qsAll('.slides > .slide', node);
      slides.map(function(it){
        return it.style.display = 'none';
      });
      ref$ = [(node.blockSlides || (node.blockSlides = {})).idx || 0, (node.blockSlides || (node.blockSlides = {})).oldidx || 0], idx = ref$[0], oldidx = ref$[1];
      return slides[idx].style.display = 'table-cell';
    }
  },
  wrap: function(block){
    var move;
    if (block.inited) {
      return;
    }
    block.inited = true;
    block.blockSlides = {
      idx: 0
    };
    move = function(dir){
      var slides, len, oldidx, idx;
      slides = btools.qsAll('.slides > .slide', block);
      len = slides.length;
      oldidx = block.blockSlides.idx;
      idx = oldidx + dir;
      if (idx < 0) {
        idx = len - 1;
      }
      if (idx >= len) {
        idx = 0;
      }
      block.blockSlides.idx = idx;
      block.blockSlides.oldidx = oldidx;
      slides.map(function(it){
        return it.style.display = 'none';
      });
      slides[idx].style.display = 'table-cell';
      if (oldidx !== idx) {
        slides[oldidx].style.display = 'table-cell';
        return setTimeout(function(){
          return slides[oldidx].style.display = 'none';
        }, 0);
      }
    };
    block.addEventListener('click', function(e){
      var target;
      target = e.target;
      while (target && target.classList) {
        if (target.classList.contains('fa-chevron-right')) {
          return move(-1);
        } else if (target.classList.contains('fa-chevron-left')) {
          return move(1);
        }
        target = target.parentNode;
      }
    });
    return document.body.addEventListener('keydown', function(e){
      if (e.keyCode === 37) {
        return move(-1);
      } else if (e.keyCode === 39) {
        return move(1);
      }
    });
  }
};